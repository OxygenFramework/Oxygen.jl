<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Path Parameters · Oxygen.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Oxygen.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Overview</a></li><li><a class="tocitem" href="../../api/">Api</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../first_steps/">First Steps</a></li><li><a class="tocitem" href="../request_types/">Request Types</a></li><li class="is-active"><a class="tocitem" href>Path Parameters</a><ul class="internal"><li><a class="tocitem" href="#Path-parameters-with-types"><span>Path parameters with types</span></a></li><li><a class="tocitem" href="#Autogenerated-Docs-and-Path-Types"><span>Autogenerated Docs &amp; Path Types</span></a></li><li><a class="tocitem" href="#Additional-Parameter-Type-Support"><span>Additional Parameter Type Support</span></a></li></ul></li><li><a class="tocitem" href="../query_parameters/">Query Parameters</a></li><li><a class="tocitem" href="../request_body/">Request Body</a></li><li><a class="tocitem" href="../cron_scheduling/">Cron Scheduling</a></li><li><a class="tocitem" href="../bigger_applications/">Bigger Applications - Multiple Files</a></li><li><a class="tocitem" href="../oauth2/">OAuth2 with Umbrella.jl</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Path Parameters</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Path Parameters</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ndortega/Oxygen.jl/blob/master/docs/src/tutorial/path_parameters.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Path-Parameters"><a class="docs-heading-anchor" href="#Path-Parameters">Path Parameters</a><a id="Path-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Path-Parameters" title="Permalink"></a></h1><p>You can declare path &quot;parameters&quot; or &quot;variables&quot; inside your route with braces and those values are passed directly to your request handler. </p><pre><code class="language-julia hljs">@get &quot;/multiply/{a}/{b}&quot; function(req, a::Float64, b::Float64)
    return a * b
end</code></pre><p>The values of <code>{a}</code> &amp; <code>{b}</code> in the path will get passed to the request handler with the parameter with the same name. </p><h2 id="Path-parameters-with-types"><a class="docs-heading-anchor" href="#Path-parameters-with-types">Path parameters with types</a><a id="Path-parameters-with-types-1"></a><a class="docs-heading-anchor-permalink" href="#Path-parameters-with-types" title="Permalink"></a></h2><p>You can declare the type of a path parameter in the function, using standard Julia type annotations</p><p>Let&#39;s take a look back at our first example above we have code to add two numbers.</p><pre><code class="language-julia hljs">@get &quot;/multiply/{a}/{b}&quot; function(req, a::Float64, b::Float64)</code></pre><p>In this line we have our request type, route, and function handler defined. Looking closer at our request handler,  we can see our variables have type annotations attached to them. </p><p>Oxygen will use any type annotations you give it to try to convert the incoming data into that type.  Granted, these are completely optional, if you leave out the type annotation then Oxygen will  assume it&#39;s a string by default. Below is another way to write the same function without type annotations.</p><pre><code class="language-julia hljs">@get &quot;/multiply/{a}/{b}&quot; function(req, a, b)
    return parse(Float64, a) * parse(Float64, b)
end</code></pre><h2 id="Autogenerated-Docs-and-Path-Types"><a class="docs-heading-anchor" href="#Autogenerated-Docs-and-Path-Types">Autogenerated Docs &amp; Path Types</a><a id="Autogenerated-Docs-and-Path-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Autogenerated-Docs-and-Path-Types" title="Permalink"></a></h2><p>And when you open your browser at http://127.0.0.1:8080/docs, you will see the autogenerated interactive documentation for your api. </p><p>If type annotations were provided in the request handler, they will be taken into account  when generating the openapi spec. This means that the generated documentation will know  what the input types will be and will not only show, but enforce those types through the interactive documentation. </p><p>Practically, this means that your users will know exactly how to call your endpoint and  your inputs will always remain up to date with the code.  </p><h2 id="Additional-Parameter-Type-Support"><a class="docs-heading-anchor" href="#Additional-Parameter-Type-Support">Additional Parameter Type Support</a><a id="Additional-Parameter-Type-Support-1"></a><a class="docs-heading-anchor-permalink" href="#Additional-Parameter-Type-Support" title="Permalink"></a></h2><p>Oxygen supports a lot of different path parameter types outside of  Julia&#39;s base primitives. More complex types &amp; structs are automatically parsed  and passed to your request handlers.</p><p>In most cases, Oxygen uses the built-in <code>parse()</code> function to parse incoming parameters.  But when the parameter types start getting more complex (eg. <code>Vector{Int64}</code> or a custom struct), then Oxygen assumes the parameter is a JSON string and uses the JSON3 library  to serialize the parameter into the corresponding type</p><pre><code class="language-julia hljs">using Dates
using Oxygen
using StructTypes

@enum Fruit apple=1 orange=2 kiwi=3

struct Person 
  name  :: String 
  age   :: Int8
end

# Add a supporting struct types
StructTypes.StructType(::Type{Person}) = StructTypes.Struct()
StructTypes.StructType(::Type{Complex{Float64}}) = StructTypes.Struct()

@get &quot;/fruit/{fruit}&quot; function(req, fruit::Fruit)
  return fruit
end

@get &quot;/date/{date}&quot; function(req, date::Date)
  return date
end

@get &quot;/datetime/{datetime}&quot; function(req, datetime::DateTime)
  return datetime
end

@get &quot;/complex/{complex}&quot; function(req, complex::Complex{Float64})
  return complex
end

@get &quot;/list/{list}&quot; function(req, list::Vector{Float32})
    return list
end

@get &quot;/data/{dict}&quot; function(req, dict::Dict{String, Any})
  return dict
end

@get &quot;/tuple/{tuple}&quot; function(req, tuple::Tuple{String, String})
  return tuple
end

@get &quot;/union/{value}&quot; function(req, value::Union{Bool, String, Float64})
  return value
end

@get &quot;/boolean/{bool}&quot; function(req, bool::Bool)
  return bool
end

@get &quot;/struct/{person}&quot; function(req, person::Person)
  return person
end

@get &quot;/float/{float}&quot; function (req, float::Float32)
  return float
end

serve()</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../request_types/">« Request Types</a><a class="docs-footer-nextpage" href="../query_parameters/">Query Parameters »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.18 on <span class="colophon-date" title="Tuesday 2 May 2023 23:49">Tuesday 2 May 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
